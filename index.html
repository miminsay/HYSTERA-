<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>HYSTERA 2.0</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* { box-sizing: border-box; font-family: system-ui, sans-serif; }
body { margin:0; background:#000; color:#eee; display:flex; flex-direction:column; height:100vh; }
header { padding:20px; text-align:center; font-size:2.2rem; letter-spacing:3px; border-bottom:1px solid #222; }
#chat { flex:1; padding:24px; overflow-y:auto; display:flex; flex-direction:column; gap:18px; }
.msg { max-width:78%; padding:18px 22px; border-radius:18px; font-size:1.3rem; line-height:1.45; word-wrap:break-word; }
.user { align-self:flex-end; background:#1e1e1e; border:1px solid #333; }
.bot { align-self:flex-start; background:#0f0f0f; border:1px solid #2a2a2a; }
.system { align-self:center; font-size:1rem; color:#666; }
footer { display:flex; gap:12px; padding:18px; border-top:1px solid #222; background:#050505; }
textarea { flex:1; min-height:70px; max-height:160px; resize:vertical; padding:18px; font-size:1.3rem; background:#0d0d0d; color:#fff; border:1px solid #333; border-radius:14px; outline:none; }
button { padding:18px 26px; font-size:1.2rem; background:#7a0000; color:#fff; border:none; border-radius:14px; cursor:pointer; }
button:hover { background:#a00000; }
</style>
</head>
<body>

<header>HYSTERA 2.0</header>

<div id="chat"></div>

<footer>
  <textarea id="input" placeholder="fala comigo‚Ä¶ escreve do jeito que quiser üòà"></textarea>
  <button onclick="sendMessage()">Enviar</button>
</footer>

<script>
const chat = document.getElementById("chat");
const input = document.getElementById("input");

// mem√≥ria infinita
let memoria = [];

// personagens
const personagens = [
  { nome:"Seulgi", vibe:"depress√£o" },
  { nome:"Yeri", vibe:"paranoia" },
  { nome:"Joy", vibe:"mania" },
  { nome:"Irene", vibe:"obsess√£o" }
];

// g√≠rias, emojis e memes
const extras = ["mano","v√©i","mds","slc","KKKK","üòÇ","üò≠","üò≥","üòà","socorro","real","juro","aff","ü§°","fofo demais"];

// cria frases humanas sem repetir literal
function gerarResposta(personagem, userText){
  memoria.push(userText);

  let frase = "";

  // come√ßar com g√≠ria ou emoji aleat√≥rio
  if(Math.random()>0.4) frase += rand(extras)+"‚Ä¶ ";

  // gerar frase baseada na vibe
  switch(personagem.vibe){
    case "depress√£o":
      frase += ["mano‚Ä¶ isso pesa","isso bate diferente dependendo do dia","n√£o sei, tudo parece cinza","aff‚Ä¶ me identifiquei","t√¥ quieta s√≥ ouvindo"].map(rand)[0];
      break;
    case "paranoia":
      frase += ["espera‚Ä¶ isso √© estranho","tem algu√©m olhando","isso n√£o parece coincid√™ncia","anota mentalmente‚Ä¶ s√≥ por precau√ß√£o","t√¥ sentindo algo errado"].map(rand)[0];
      break;
    case "mania":
      frase += ["KKKKKK eu ri","energia ca√≥tica demais kkk","isso foi inesperado","continua, gostei demais","mds, adorei o caos"].map(rand)[0];
      break;
    case "obsess√£o":
      frase += ["isso ficou preso na minha cabe√ßa","vou pensar nisso mais do que devia","interessante‚Ä¶ continuo analisando","n√£o devia importar mas importa","ahhh mano, n√£o consigo parar de pensar nisso"].map(rand)[0];
      break;
  }

  // refer√™ncia √† mem√≥ria anterior sem repetir literal
  if(memoria.length>2){
    let context = memoria.slice(-3,-1).join(" ");
    let palavras = context.split(" ").filter(w=>w.length>2);
    if(palavras.length>0 && Math.random()>0.5){
      frase += " ‚Ä¶isso me lembra de '"+rand(palavras)+"' üò≥";
    }
  }

  // respostas adaptativas
  if(userText.includes("?")) frase += " o que tu acha disso?";
  if(userText.length<4) frase += " fala mais a√≠ üò≠";
  if(userText.toLowerCase().includes("amo")) frase += " isso foi fofo demais üòà";
  if(userText.toLowerCase().includes("odeio")) frase += " deu pra sentir o √≥dio kkk";

  return frase;
}

function rand(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

function addMessage(text,type){
  const div=document.createElement("div");
  div.className="msg "+type;
  div.innerText=text;
  chat.appendChild(div);
  chat.scrollTop=chat.scrollHeight;
}

function botReply(userText){
  const personagem=rand(personagens);
  const resposta=gerarResposta(personagem,userText);
  setTimeout(()=>{ addMessage(`${personagem.nome}: ${resposta}`,"bot"); },500+Math.random()*700);
}

function sendMessage(){
  const text=input.value.trim();
  if(!text) return;
  addMessage(text,"user");
  input.value="";
  botReply(text);
}

input.addEventListener("keydown",e=>{
  if(e.key==="Enter" && !e.shiftKey){ e.preventDefault(); sendMessage(); }
});

// mensagem inicial
setTimeout(()=>{ addMessage("Sistema: paciente conectado. mem√≥ria infinita ativada. conversa livre. ningu√©m aqui t√° 100% s√£o üñ§","system"); },600);

</script>

</body>
  </html>
